# ==============================================================================
# Django Core
# ==============================================================================

# ENV: Application environment identifier
# Values: backend-dev, backend-prod
ENV=backend-dev

# DEBUG: Enable Django debug mode (never enable in production)
# Values: on, off
DEBUG=on

# DEBUG_TOOLBAR: Enable Django Debug Toolbar (requires DEBUG=on)
# Values: on, off
DEBUG_TOOLBAR=on

# SECRET_KEY: Django secret key for cryptographic signing
# SECURITY: Must be unique and unpredictable in production
SECRET_KEY=12345

# LOG_LEVEL: Root logging level
# Values: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ==============================================================================
# Database (PostgreSQL)
# ==============================================================================

POSTGRES_DB=project
POSTGRES_HOST=localhost
POSTGRES_PORT=8432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=12345

# DATABASE_POOL_URL: Transaction-based connection pool URL (e.g., PgBouncer)
# WARNING: Using this as DATABASE_URL will break production
DATABASE_POOL_URL=

# DATABASE_URL: Direct PostgreSQL connection URL
# Used as fallback when DATABASE_POOL_URL is not set
DATABASE_URL=postgres://postgres:12345@localhost:8432/project

# ==============================================================================
# Redis
# ==============================================================================

REDIS_HOST=localhost
REDIS_PORT=8379

# ==============================================================================
# Celery (Task Queue)
# ==============================================================================

# CELERY_BROKER_URL: Redis URL for Celery message broker
CELERY_BROKER_URL=redis://localhost:8379/0

# CELERY_TASK_ALWAYS_EAGER: Execute tasks synchronously (1=sync, 0=async)
# Use 1 for development, 0 for production
CELERY_TASK_ALWAYS_EAGER=1

# Worker concurrency (number of concurrent worker processes per queue)
CELERY_MASTER_CONCURRENCY=1
CELERY_WORKER_CONCURRENCY=1
CELERY_METAGRAPH_CONCURRENCY=1

# Celery Flower monitoring dashboard credentials
CELERY_FLOWER_USER=flower
CELERY_FLOWER_PASSWORD=12345

# ==============================================================================
# Web Server & CORS
# ==============================================================================

NGINX_HOST=localhost

# CORS_ENABLED: Enable Cross-Origin Resource Sharing
CORS_ENABLED=on

# CORS_ALLOWED_ORIGINS: Comma-separated list of allowed origins
CORS_ALLOWED_ORIGINS=

# CORS_ALLOWED_ORIGIN_REGEXES: Comma-separated regex patterns for allowed origins
CORS_ALLOWED_ORIGIN_REGEXES=

# CORS_ALLOW_ALL_ORIGINS: Allow all origins (use only in development)
CORS_ALLOW_ALL_ORIGINS=0

# ==============================================================================
# Bittensor Network
# ==============================================================================

# BITTENSOR_ARCHIVE_NETWORK: Archive node for querying old blocks
# Used automatically when block is >300 blocks behind chain head
# Values: archive, finney, local, testnet
BITTENSOR_ARCHIVE_NETWORK=archive

# ==============================================================================
# Sentinel Mode
# ==============================================================================

# SENTINEL_MODE: Block processing mode
# Values: live (follow chain head), backfill (process block range),
# fast_backfill (process block range with batching)
SENTINEL_MODE=live

# BLOCK_START / BLOCK_END: Block range boundaries
# Required when SENTINEL_MODE=backfill or fast_backfill
BLOCK_START=
BLOCK_END=

# BACKFILL_RATE_LIMIT: Seconds between blocks in backfill mode
BACKFILL_RATE_LIMIT=1.0

# BACKFILL_BATCH_SIZE: Blocks per Celery task in fast_backfill mode
BACKFILL_BATCH_SIZE=10

# BACKFILL_BATCH_DELAY: Seconds between spawning batch tasks
BACKFILL_BATCH_DELAY=1.0

# ==============================================================================
# Sentinel Plugins
# ==============================================================================

# SENTINEL_PLUGINS: Comma-separated list of enabled block task plugins
# Available: extrinsics, metagraph
# Empty = all plugins enabled
# Examples:
#   SENTINEL_PLUGINS=extrinsics,metagraph  # both plugins
#   SENTINEL_PLUGINS=extrinsics            # only extrinsics sync
#   SENTINEL_PLUGINS=metagraph             # only metagraph dump
SENTINEL_PLUGINS=

# ==============================================================================
# Metagraph Configuration
# ==============================================================================

# METAGRAPH_NETUIDS: Comma-separated list of subnet UIDs to sync
# Empty = all subnets (1-128)
# Example: METAGRAPH_NETUIDS=1,8,19
METAGRAPH_NETUIDS=

# METAGRAPH_LITE: Enable lite mode (excludes weights and bonds data)
# Values: 0 (full mode), 1 (lite mode)
METAGRAPH_LITE=0

# ==============================================================================
# Sentinel Storage (S3)
# ==============================================================================

# S3 backend configuration (leave empty to use local filesystem only)
SENTINEL_STORAGE_S3_BUCKET=
SENTINEL_STORAGE_S3_BASE_PATH=
SENTINEL_STORAGE_S3_AWS_REGION=
SENTINEL_STORAGE_S3_AWS_ACCESS_KEY_ID=
SENTINEL_STORAGE_S3_AWS_SECRET_ACCESS_KEY=

# ==============================================================================
# Discord Alerts
# ==============================================================================

# Real-time webhook notifications when matching extrinsics are detected
# Create webhooks: Discord > Server Settings > Integrations > Webhooks
DISCORD_SUDO_ALERTS_WEBHOOK_URL=
DISCORD_ADMIN_UTILS_ALERTS_WEBHOOK_URL=
DISCORD_SUBNET_REGISTRATION_WEBHOOK_URL=
DISCORD_COLDKEY_SWAP_WEBHOOK_URL=

# ==============================================================================
# Monitoring (Grafana)
# ==============================================================================

GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin

# ==============================================================================
# Email
# ==============================================================================

# EMAIL_BACKEND: Django email backend class
# Dev:  django.core.mail.backends.filebased.EmailBackend (writes to EMAIL_FILE_PATH)
# Prod: django.core.mail.backends.smtp.EmailBackend
EMAIL_BACKEND=django.core.mail.backends.filebased.EmailBackend
EMAIL_FILE_PATH=/tmp/email
EMAIL_HOST=smtp.sendgrid.net
EMAIL_PORT=587
EMAIL_USE_TLS=1
EMAIL_HOST_USER=apikey
EMAIL_HOST_PASSWORD=
DEFAULT_FROM_EMAIL=

# ==============================================================================
# Error Tracking (Sentry)
# ==============================================================================

# SENTRY_DSN: Sentry Data Source Name (leave empty to disable)
SENTRY_DSN=
SENTRY_ENVIRONMENT=development

# ==============================================================================
# Content Security Policy (CSP)
# ==============================================================================

CSP_ENABLED=n
CSP_REPORT_ONLY=y
CSP_REPORT_URL=""
CSP_DEFAULT_SRC="'none'"
CSP_SCRIPT_SRC="'self'"
CSP_STYLE_SRC="'self'"
CSP_FONT_SRC="'self'"
CSP_IMG_SRC="'self'"
CSP_MEDIA_SRC="'self'"
CSP_OBJECT_SRC="'self'"
CSP_FRAME_SRC="'self'"
CSP_CONNECT_SRC="'self'"
CSP_CHILD_SRC="'self'"
CSP_MANIFEST_SRC="'self'"
CSP_WORKER_SRC="'self'"
CSP_BLOCK_ALL_MIXED_CONTENT=y
CSP_EXCLUDE_URL_PREFIXES=

# ==============================================================================
# Docker (cadvisor)
# ==============================================================================

# DOCKER_ROOT_DIR: Docker data root directory
# Override when Docker stores data on a non-default path (e.g., mounted volume)
# Default: /var/lib/docker
DOCKER_ROOT_DIR=/var/lib/docker

# ==============================================================================
# Backups (Backblaze B2)
# ==============================================================================

BACKUP_LOCAL_ROTATE_KEEP_LAST=
BACKUP_B2_BUCKET=
BACKUP_B2_FOLDER=
BACKUP_B2_APPLICATION_KEY_ID=
BACKUP_B2_APPLICATION_KEY=
